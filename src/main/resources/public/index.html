<!doctype html>

<html lang="en">

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="js/tictactoe.js"></script>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <title>iFellTower - Tic Tac Toe</title>
    <meta name="game" content="Tic Tac Toe">
    <meta name="iFellTower" content="SitePoint">



</head>

<body>
    <h1>iFellTower's Tic Tac Toe</h1>
    <table id="TTTtable">
        <tr>
            <td id="1" class="tile" value="Hello"></td>
            <td id="2" class="tile"></td>
            <td id="3" class="tile"></td>
        </tr>
        <tr>
            <td id="4" class="tile"></td>
            <td id="5" class="tile"></td>
            <td id="6" class="tile"></td>
        </tr>
        <tr>
            <td id="7" class="tile"></td>
            <td id="8" class="tile"></td>
            <td id="9" class="tile"></td>
        </tr>
    </table>

    <h3>Wins<h3>
    <p>Player X: <span id="playerX"> 0 </span></p>
    <p>Player O: <span id="playerO"> 0 </span></p>
</body>
<button type="button" id="clearScores"> Clear scores </button>
<script>

    $("#TTTtable").on("click", "td", function() {
        /// If someone clicks a tile we get the ID of the tile
        var tile = $(this).attr('id');
        /// Check if the tile is already chosen
        if($(this).html() != "X" && $(this).html() != "O"){
            /// Build a post request to make a move
            makeMove(tile);
            checkWinner();
            checkDraw();
        } else {
            // TODO: print an error message for tile has value
        }

        getScores();
    });

$("#clearScores").on("click", function(){
    $.ajax({
        type: 'POST',
        url: '/initGame'
    }).done(function() {
        console.log("I got a response");
    }).fail(function() {
        console.log("could not initiate new game");
    });
});

    $(document).ready(function() {
        getScores();
    });
</script>

</html>
